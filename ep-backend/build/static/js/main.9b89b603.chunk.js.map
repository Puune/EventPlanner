{"version":3,"sources":["util/occasionTyper.js","util/configTool.js","services/occasion.js","services/invite.js","services/user.js","components/InviteForm.js","components/OccasionActionsElement.js","components/OccasionClass.js","components/OccasionsList.js","components/OccasionForm.js","components/LogoutButton.js","services/login.js","components/LoginForm.js","services/signIn.js","components/SignInForm.js","components/UserInfo.js","components/Header.js","components/Layout.js","App.js","index.js"],"names":["module","exports","getClassName","occasion","typeStyle","type","getOccasionInfoText","convertJSONToDate","console","log","date","Date","exception","user","headers","Authorization","token","baseUrl","getAll","a","async","config","confTool","axios","get","res","data","submit","props","body","newOccasion","title","subtitle","description","isPrivate","location","post","response","participatePublic","put","deleteOccasion","occasionId","delete","inviteeId","reqBody","accept","id","CardGenerator","search","users","setSearch","ListGroup","arr","capSearch","toUpperCase","forEach","capName","username","includes","push","invitees","length","filter","participants","filteredList","map","item","Item","key","CustomCard","Card","onClick","Body","Text","name","InviteForm","useState","setUsers","useEffect","usersService","then","_","reject","Form","onSubmit","event","preventDefault","invitee","find","inviteService","newUsers","status","Control","placeholder","value","onChange","target","Append","Button","InviteElement","expanded","setExpanded","expansion","exp","display","setOccasion","occ","classname","occasionTyper","info","setOccasionState","handleInviteResponse","handleParticipatePublicEvent","participate","occasionService","upOccasion","temp","Object","assign","Fragment","style","variant","handleDeleteOccasion","Occasion","setState","extractLength","state","this","Media","as","className","Row","noGutters","alignItems","Col","sm","Badge","md","span","getDate","getMonth","getFullYear","getHours","getMinutes","OccasionActionsElement","React","Component","OccasionsList","occasions","occState","listBuild","Title","setTitle","Group","controlId","Label","required","Subtitle","setSubtitle","Description","setDescription","Privacy","privacy","setPrivacy","Check","label","checked","Day","day","setDay","width","Month","month","setMonth","Year","year","setYear","Time","time","setTime","Location","setLocation","OccasionForm","setOccasions","visible","setVisible","vis","block","setFullYear","setDate","setHours","Number","slice","setMinutes","setSeconds","returnObj","concat","offset","LogoutButton","window","localStorage","removeItem","reload","credentials","LoginForm","setUsername","password","setPassword","loginService","setItem","JSON","stringify","setUser","toggle","newUser","SignIn","setName","signInService","UserInfo","toggled","setToggled","tog","Modal","modalProps","size","centered","Header","xs","lg","Footer","SignInForm","modalVisible","setModalVisible","show","onHide","Navbar","bg","Toggle","Collapse","cont","ButtonToolbar","User","Jumbotron","myContainer","Container","children","App","occs","loggedUserJSON","getItem","parse","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9b89b603.chunk.js","sourcesContent":["/**\r\n * This module contains occasionformatting tools\r\n * @module occasionTyper \r\n */\r\n\r\n /**\r\n  * This function returns a css className, that corresponds to the occasion's type.\r\n  * @function getClassName\r\n  * @param { occasion } occasion \r\n  */\r\nfunction getClassName(occasion){      \r\n  let typeStyle = \"\";\r\n  if(occasion.type === 'owned'){\r\n    typeStyle = \"occ-type-owned\"\r\n  } else if(occasion.type === 'invited') {\r\n    typeStyle = \"occ-type-invited\"\r\n  } else if(occasion.type === 'participant'){\r\n    typeStyle = \"occ-type-participant\"\r\n  } else if(occasion.type === 'public'){\r\n    typeStyle = \"occ-type-public\"\r\n  } \r\n  //Occasion is temporarely hidden to wait re-render\r\n  else if(occasion.type === 'delete'){\r\n    typeStyle = \"occ-hide-until-rerender\"\r\n  }\r\n  return typeStyle;\r\n}  \r\n\r\n\r\n/**\r\n * This function return short info text, that corresponds the occasion's type.\r\n * @function getOccasionInfoText\r\n * @param { occasion } occasion \r\n */\r\nconst getOccasionInfoText = (occasion) => {\r\n  const type = occasion.type;\r\n  let info = '';\r\n  if(type === 'owned'){\r\n    info = 'Owner of this event'\r\n  } else if(type === 'invited'){\r\n    info = 'Invited to this event'\r\n  } else if(type === 'participant'){\r\n    info = 'Participating this event'\r\n  } else if(type === 'public'){\r\n    info = 'Public event'\r\n  } else {\r\n    info = 'Err: Event-type not tailored'\r\n  }\r\n  return info;\r\n}\r\n\r\n/**\r\n * This function takes occasions json date property and converts it to a proper Date obj.\r\n * @function convertJSONToDate\r\n * @param { occasion } occasion \r\n */\r\nconst convertJSONToDate = (occasion) => {\r\n  try{\r\n    console.log(occasion);\r\n    \r\n    occasion.date = new Date(occasion.date)\r\n    return;\r\n  } catch(exception){\r\n    console.log(exception);\r\n  }\r\n}\r\n\r\nmodule.exports =  { getClassName, getOccasionInfoText, convertJSONToDate }","/**\r\n * Configuration utility\r\n * @module configTool\r\n */\r\n\r\n\r\n /**\r\n  * This function creates a config item, containing Authorization header.\r\n  * @function getConfig\r\n  * @param { user } user \r\n  */\r\nconst getConfig = (user) => {\r\n  if(!user){\r\n    return null;\r\n  } else {\r\n    const config = {\r\n      headers: { Authorization: `bearer ${user.token}` }\r\n    }  \r\n\r\n    return config;\r\n  }\r\n}\r\n\r\nexport default { getConfig }","/**\r\n * Occasion service module\r\n * @module occasion\r\n */\r\n\r\nimport axios from 'axios';\r\nimport confTool from '../util/configTool';\r\nconst baseUrl = '/api/occasions';\r\n\r\n/**\r\n * This functions sends occasions get requests to back-end\r\n * @function getAll\r\n * @param { user } user \r\n */\r\nconst getAll = async (user) => {\r\n  if(user){\r\n    try{\r\n      const config = confTool.getConfig(user);\r\n      const res = await axios.get(baseUrl, config);\r\n      return res.data;\r\n\r\n    } catch(exception){\r\n      console.log(exception);\r\n    }\r\n  } else {\r\n    const res = await axios.get(baseUrl);\r\n    return res.data;\r\n  }\r\n}\r\n\r\n/**\r\n * This function sends post occasion requests to back-end\r\n * @function submit\r\n * @param {*} props \r\n */\r\nconst submit = async (props) => {\r\n  const user = props.user;\r\n  const body = props.body;\r\n  \r\n  try {\r\n    const config = confTool.getConfig(user); \r\n    const newOccasion =  {\r\n      title: body.title,\r\n      subtitle: body.subtitle,\r\n      description: body.description,\r\n      isPrivate: body.isPrivate,\r\n      date: body.date,\r\n      location: body.location\r\n    }\r\n\r\n    const response = await axios.post(`${baseUrl}`, newOccasion, config);    \r\n    return response.data;\r\n  \r\n  } catch(exception){\r\n    console.log(exception);\r\n  }\r\n}\r\n\r\n/**\r\n * This function sends occasion put requests that allow user to participate a public occasion.\r\n * @function participatePublic\r\n * @param {*} props \r\n */\r\nconst participatePublic = async(props) => {\r\n  const user = props.user;\r\n  const body = props.body;\r\n\r\n  try {\r\n    const config = confTool.getConfig(user);\r\n    const response = await axios.put(baseUrl, body, config);\r\n    return response.data;\r\n  } catch(exception){\r\n    console.log(exception);\r\n  }\r\n}\r\n\r\n/**\r\n * This function send occasion delete requests to back-end\r\n * @function deleteOccasion\r\n * @param { user } user \r\n * @param { String } occasionId \r\n */\r\nconst deleteOccasion = async(user, occasionId) => {\r\n  try{\r\n    const config = confTool.getConfig(user);\r\n    const res = await axios.delete(`${baseUrl}/${occasionId}`, config);\r\n    return res.data; \r\n  } catch(exception){\r\n    console.log(exception);\r\n  }\r\n}\r\n\r\nexport default { getAll, submit, participatePublic, deleteOccasion };","/**\r\n * Invite service module.\r\n * @module invite\r\n */\r\n\r\nimport axios from 'axios';\r\nimport confTool from '../util/configTool';\r\n\r\nconst baseUrl = '/api/invitation'\r\n\r\n/**\r\n * This function sends invite requests to back-end\r\n * @function sendInvite\r\n * @param { user } user \r\n * @param { String  occasionId \r\n * @param { String } inviteeId \r\n */\r\nconst sendInvite = async (user, occasionId, inviteeId) => {\r\n  try {\r\n    const config = confTool.getConfig(user);\r\n    const reqBody = {\r\n      occasionId: occasionId,\r\n      inviteeId: inviteeId\r\n    } \r\n\r\n    const response = await axios.post(baseUrl, reqBody, config);\r\n    return response.data;\r\n  } catch(exception) {\r\n    console.log(exception);\r\n  }\r\n}\r\n\r\n/**\r\n * This function sends invite-response requests to back-end\r\n * @function answerInvite\r\n * @param { user } user \r\n * @param { String } occasionId \r\n * @param { Boolean } accept \r\n */\r\nconst answerInvite = async (user, occasionId, accept) => {\r\n  try{\r\n    const config = confTool.getConfig(user);\r\n    const reqBody = {\r\n      occasionId,\r\n      inviteeId: user.id,\r\n      accept\r\n    }\r\n\r\n    const response = await axios.put(baseUrl, reqBody, config);\r\n    return response.data;\r\n  } catch(exception){\r\n    console.log(exception);\r\n  }\r\n}\r\n\r\nexport default { sendInvite, answerInvite }","/**\r\n * User service module\r\n * @module user\r\n */\r\n\r\nimport axios from 'axios'\r\n\r\nconst baseUrl = '/api/users'\r\n\r\n/**\r\n * This function send get(all) requests to back-end.\r\n * @function getUsers\r\n */\r\nconst getUsers = async () => {\r\n  try{\r\n    const response = await axios.get(baseUrl);\r\n    return response.data;\r\n  } catch (exception){\r\n    console.log(exception);\r\n  }\r\n}\r\n\r\nexport default { getUsers }","/**\r\n * This module contains form elements, for inviting users to occasions\r\n * @module InviteForm\r\n */\r\n\r\nimport React, {useState, useEffect} from 'react';\r\nimport usersService from '../services/user';\r\nimport inviteService from '../services/invite'\r\nimport _ from 'lodash';\r\n\r\nimport Input from 'react-bootstrap/InputGroup'\r\nimport Card from 'react-bootstrap/Card';\r\nimport Form from 'react-bootstrap/Form';\r\nimport ListGroup from 'react-bootstrap/ListGroup';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\n/**\r\n * This component generates suggestion cards when searching for users\r\n * @class\r\n * @param { String } search\r\n * @param { User[] } users \r\n * @param { setState } setSearch\r\n * @param { Occasion } occasion  \r\n */\r\nconst CardGenerator = ({search, users, setSearch, occasion}) => {\r\n\r\n  /**\r\n   * This function creates a filtered list from search input\r\n   * @function filteredList\r\n   */\r\n  const filteredList = () => {\r\n    var arr = [];\r\n    let capSearch = search.toUpperCase();\r\n    users.forEach((user) => {\r\n      let capName = user.username.toUpperCase();\r\n      if(search === ''){\r\n        \r\n      }else if(capName.includes(capSearch)){\r\n        arr.push(user);\r\n      }\r\n    })\r\n\r\n    if(occasion.invitees.length > 0){      \r\n      arr = arr.filter((user) => {\r\n        occasion.invitees.includes(user.id);\r\n      })\r\n    } \r\n\r\n    if(occasion.participants.length > 0){\r\n      arr = arr.filter((user) => {\r\n        occasion.participants.includes(user.id);\r\n      })\r\n    }\r\n\r\n    return arr;\r\n  }\r\n\r\n  return(\r\n    <>\r\n      <ListGroup>\r\n        {filteredList().map((item) => \r\n          <ListGroup.Item key={item.id}>{CustomCard(item, setSearch)}\r\n            </ListGroup.Item>)}\r\n      </ListGroup>\r\n    </>\r\n  )\r\n}\r\n\r\n\r\n/**\r\n * This is a suggestion card. Can be used to select user.\r\n * @class\r\n * @param { user } user \r\n * @param { setState } setSearch \r\n */\r\nconst CustomCard = (user, setSearch) => {\r\n  return(\r\n    <Card \r\n      onClick={()=> setSearch(user.username)}\r\n      key={user.id}\r\n      >\r\n      <Card.Body>\r\n        <Card.Text>\r\n          <b>{user.username}</b> {user.name}\r\n        </Card.Text>\r\n      </Card.Body>\r\n    </Card>\r\n  )\r\n}\r\n\r\n\r\n/**\r\n * This component allows occasion owner to search and invite users to their occasion.\r\n * @class\r\n * @param { user } user\r\n * @param { occasion } occasion \r\n */\r\nconst InviteForm = ({user, occasion}) => {\r\n\r\n  const [search, setSearch] = useState('');\r\n  const [users, setUsers] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if(user){\r\n      usersService\r\n        .getUsers({})\r\n        .then(res => {\r\n          res = _.reject(res, { 'username' : user.username })\r\n          setUsers(res)\r\n        })\r\n    }\r\n  }, [user])  \r\n\r\n  /**\r\n   * This function handles submit event\r\n   * @function submitHandler\r\n   * @param { event } event \r\n   */\r\n  const submitHandler = async(event) => {\r\n    try{\r\n      event.preventDefault();\r\n      const invitee = _.find(users, { 'username': search });\r\n      const response = await inviteService.sendInvite(user, occasion.id, invitee.id);\r\n      const newUsers = users.filter((user) => user.username !== search);\r\n      setUsers(newUsers);\r\n\r\n      if(response.status === 200){\r\n      } else {\r\n        console.log(response);\r\n      }\r\n    } catch(exception){\r\n      console.log(exception);\r\n    }\r\n  }\r\n\r\n  return(\r\n    <Form onSubmit={submitHandler}>\r\n      <Input>\r\n          <Form.Control \r\n            placeholder=\"search for a user\"\r\n            value={search}\r\n            onChange={({target}) => setSearch(target.value)}\r\n          />\r\n          <Input.Append>\r\n            <Button\r\n              type=\"submit\"\r\n            >\r\n            Invite</Button>\r\n          </Input.Append>\r\n      </Input>\r\n      <CardGenerator \r\n        users={users} occasion={occasion}\r\n        search={search} setSearch={setSearch}/>\r\n    </Form>\r\n  )\r\n}\r\n\r\nexport default InviteForm;","/**\r\n * This module contains all components, that allow operations on occasions.\r\n * @module OccasionActionElement\r\n */\r\n\r\nimport React, {useState} from 'react';\r\n\r\nimport occasionTyper from '../util/occasionTyper';\r\n\r\nimport inviteService from '../services/invite';\r\nimport occasionService from '../services/occasion';\r\nimport InviteForm from './InviteForm';\r\n\r\nimport Button from 'react-bootstrap/Button';\r\n\r\n/**\r\n * This component reads the type of parent occasion\r\n * @class\r\n * @param { occasion } occasion\r\n * @param { user } user\r\n * @param {*} props \r\n */\r\nconst InviteElement = ({occasion, user, ...props}) => {\r\n  \r\n  const [expanded, setExpanded] = useState(false);\r\n  const expansion = (exp) => { return { display: exp ? '' : 'none' }}\r\n\r\n  /**\r\n   * Handles overwriting the old occasion.\r\n   * @function setOccasion\r\n   * @param { occasion } occ \r\n   */\r\n  const setOccasion = (occ) => {\r\n    occ.classname = occasionTyper.getClassName(occ);\r\n    occ.info = occasionTyper.getOccasionInfoText(occ);\r\n    occasionTyper.convertJSONToDate(occ); \r\n    props.setOccasionState(occ);\r\n  }\r\n\r\n  /**\r\n   * This function handles an event, where user accepts/declines an inviter.\r\n   * @function handleInviteResponse\r\n   * @param { Boolean } accept \r\n   */\r\n  const handleInviteResponse = async (accept) => {\r\n    try{\r\n      var res = await inviteService.answerInvite(user, occasion.id, accept);      \r\n      if(accept){\r\n        res.type = 'participant'\r\n      } else if(!accept){\r\n        res.type = 'delete'\r\n      }\r\n      setOccasion(res)    \r\n    } catch(exception){\r\n      console.log(exception);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * This function handles a deletion of an event\r\n   * @function handleDeleteOccasion\r\n   */\r\n  const handleDeleteOccasion = async() => {\r\n    await occasionService.deleteOccasion(user, occasion.id);\r\n    let temp = Object.assign(occasion);\r\n    temp.type = 'delete'\r\n    setOccasion(temp);\r\n  }\r\n\r\n  /**\r\n   * This function handles an event where user participates a public event\r\n   * @function handleParticipatePublicEvent\r\n   */\r\n  const handleParticipatePublicEvent = async(participate) => {\r\n    const body = {\r\n      participate,\r\n      occasionId: occasion.id\r\n    }\r\n\r\n    var upOccasion = await occasionService.participatePublic({user, body});\r\n    setOccasion(upOccasion);\r\n\r\n    if(occasion.isPrivate){\r\n      let temp = Object.assign(occasion);\r\n      temp.type = 'delete'\r\n      setOccasion(temp);\r\n    }\r\n  }\r\n  \r\n  if(occasion.type === 'owned'){\r\n    const isPrivate = () => (occasion.isPrivate) ? {display: ''} : {display: 'none'}\r\n    return(\r\n      <React.Fragment>\r\n        <span style={isPrivate()}><Button onClick={() => setExpanded(!expanded)}>Send Invites</Button></span>\r\n        <Button \r\n          variant=\"danger\"\r\n          onClick={() => handleDeleteOccasion()}\r\n        >\r\n        Delete\r\n        </Button>\r\n\r\n        <div style={expansion(expanded)}>\r\n          <InviteForm user={user} occasion={occasion}/>\r\n        </div>\r\n        <div style={expansion(!expanded)}>\r\n\r\n        </div>\r\n      </React.Fragment>\r\n    )\r\n  } else if(occasion.type === 'invited') {\r\n    return(\r\n      <React.Fragment>\r\n        <Button\r\n          onClick={() => handleInviteResponse(true)}\r\n        >\r\n          Accept\r\n        </Button>\r\n        \r\n        <Button\r\n          variant=\"danger\"\r\n          onClick={() => handleInviteResponse(false)}\r\n        >\r\n          Decline\r\n        </Button>\r\n      </React.Fragment>\r\n    )\r\n  } else if(occasion.type === 'participant'){\r\n    return(\r\n      <React.Fragment>\r\n        <Button\r\n          variant='warning'\r\n          onClick={() => handleParticipatePublicEvent(false)}\r\n        >\r\n          Leave  \r\n        </Button>\r\n      </React.Fragment>\r\n    )\r\n  } else if(occasion.type === 'public'){\r\n    if(user){\r\n      return(\r\n        <React.Fragment>\r\n          <Button\r\n            onClick={() => handleParticipatePublicEvent(true)}\r\n          >\r\n            Participate\r\n          </Button>\r\n        </React.Fragment>\r\n      )\r\n    } else {\r\n      return(\r\n        <>\r\n        </>\r\n      )\r\n    }\r\n  } else if(occasion.type === 'delete'){\r\n    return(\r\n      <>\r\n      </>\r\n    )\r\n  } else {\r\n    //error\r\n    console.log('======occasion has no type======');\r\n    console.log(occasion);\r\n    return(\r\n      <>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default InviteElement;","/**\r\n * This module has the class-component that displays an occasion\r\n * @module OccasionClass\r\n */\r\n\r\nimport React from 'react';\r\n\r\nimport '../App.css'\r\n\r\nimport occasionTyper from '../util/occasionTyper';\r\nimport OccasionActionsElement from './OccasionActionsElement';\r\nimport { Media, Button, Row, Col, Badge } from 'react-bootstrap';\r\n\r\n/**\r\n * This class contains all elements that a single event on the app displays\r\n * @class\r\n * @param { user } user\r\n * @param { occasion } occasion\r\n */\r\nclass Occasion extends React.Component {\r\n  constructor(props) {\r\n    super(props);    \r\n    this.state = {\r\n      occasion: props.occasion,\r\n      user: props.user,\r\n      expanded: false\r\n    };\r\n  }\r\n\r\n  /**\r\n   * This is a callback to a function, that allow overwriting the occasion-state\r\n   * @function setOccasionState\r\n   * @param { occasion } occasion\r\n   */\r\n  setOccasionState = (occasion) => {\r\n    this.setState({occasion: occasion});\r\n  }\r\n\r\n  /**\r\n   * This function handles task that need to be performed pre-render\r\n   * @function UNSAFE_componentWillMount\r\n   */\r\n  UNSAFE_componentWillMount() {\r\n    console.log('will mount: ',this.state.occasion);\r\n    this.state.occasion.classname = occasionTyper.getClassName(this.state.occasion);\r\n    this.state.occasion.info = occasionTyper.getOccasionInfoText(this.state.occasion);\r\n    occasionTyper.convertJSONToDate(this.state.occasion);\r\n  }\r\n\r\n  /**\r\n   * This function ios called after render\r\n   * @function componentDidMount\r\n   */\r\n  componentDidMount() {\r\n    console.log('did mount:', this.state.occasion);\r\n  }\r\n\r\n  /**\r\n   * This is a helper function to extract participants array length\r\n   * @function extractLength\r\n   */\r\n  extractLength = () => {\r\n    try{\r\n      return this.state.occasion.participants.length;\r\n    } catch (exception){\r\n      return 0;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * This callback allows toggling element visibility.\r\n   * @function expansion\r\n   * @param { Boolean } exp\r\n   */\r\n  expansion = (exp) => { return { display: exp ? '' : 'none' }}\r\n\r\n  render() {\r\n    const occasion = this.state.occasion;\r\n    const user = this.state.user;\r\n    const expanded = this.state.expanded;\r\n    return (\r\n      <Media as=\"li\" \r\n        key={occasion.id} \r\n        className={`${occasion.classname} occ force-linebreak`}\r\n        >\r\n        <Media.Body>\r\n        <Button \r\n          onClick={() => this.setState({expanded: !expanded})}\r\n          className=\"float-right\"\r\n          >\r\n            Expand\r\n        </Button>\r\n          <div style={this.expansion(!expanded)}>\r\n            <Row noGutters style={{alignItems: 'center'}}>\r\n              <Col as=\"h3\" sm={5}>{occasion.title}</Col> \r\n              <Col as=\"h5\"><Badge>{occasion.info}</Badge></Col>\r\n            </Row>\r\n            <Row>\r\n              <Col as=\"h5\">{occasion.subtitle}</Col>\r\n            </Row>\r\n          </div>\r\n  \r\n  \r\n          <div style={this.expansion(expanded)}>\r\n            <Row>\r\n              <Col as=\"h3\" md={{span: 6}}>{occasion.title}</Col> \r\n            </Row> \r\n            <Row noGutters>\r\n              <Col as =\"h5\" md={3}>{occasion.subtitle}</Col>\r\n              <Col as=\"h5\"><Badge>{occasion.info}</Badge></Col>\r\n            </Row>\r\n            <br/>\r\n            <Row\r\n              noGutters \r\n              className={'force-linebreak'}\r\n            >\r\n              <Col \r\n                md={7}\r\n                sm={{span: true}}\r\n              >\r\n                {occasion.description}\r\n              </Col>\r\n              <Col\r\n                className='left-buffer'\r\n              >\r\n                <Row noGutters md='auto'>\r\n                  <h4>\r\n                    {occasion.date.getDate()}.\r\n                    {occasion.date.getMonth()}.\r\n                    {occasion.date.getFullYear()}\r\n                  </h4>\r\n                </Row>\r\n                <Row noGutters>\r\n                  <h5>\r\n                      {occasion.date.getHours()}:\r\n                      {occasion.date.getMinutes()}\r\n                    </h5>\r\n                </Row>\r\n                <br/>\r\n                <Row noGutters>\r\n                  <h5>\r\n                    {`At ${occasion.location}`}\r\n                  </h5>\r\n                </Row>\r\n                <br/>\r\n                <Row noGutters>\r\n                  {`Participating: ${this.extractLength()}`}\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <br/>\r\n            <OccasionActionsElement \r\n              occasion={occasion} user={user}\r\n              setOccasionState={this.setOccasionState}\r\n            />\r\n          </div>\r\n        </Media.Body>\r\n      </Media>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Occasion;","/**\r\n * This module contains occasion list component\r\n * @module OccasionsList\r\n */\r\n\r\nimport React from 'react';\r\nimport _ from 'lodash';\r\nimport Occasion from './OccasionClass';\r\n\r\nimport ListGroup from 'react-bootstrap/ListGroup';\r\n\r\n/**\r\n * This component builds a list of occasions\r\n * @class\r\n * @param {*} props \r\n */\r\nconst OccasionsList = (props) => {\r\n\r\n  const occasions = props.occState.occasions;\r\n\r\n  /**\r\n   * This function creates a singular list element for the list\r\n   * @function listBuild\r\n   * @param {*} item \r\n   */\r\n  const listBuild = (item) => {\r\n    if(item.type === 'delete'){\r\n      return;\r\n    } else {\r\n      return(\r\n        <ListGroup.Item key={item.id}>\r\n          <Occasion \r\n            occasion={item} \r\n            user={props.user}\r\n            />\r\n        </ListGroup.Item>\r\n      )\r\n    }\r\n  }\r\n\r\n  return(\r\n    <ListGroup >\r\n      {occasions.map((item) => listBuild(item))}\r\n    </ListGroup>\r\n  )\r\n}\r\n\r\nexport default OccasionsList;","/**\r\n * This module contains all elements needed for occasion submission form\r\n * @module OccasionForm\r\n */\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport occasionService from '../services/occasion';\r\n \r\nimport Form from 'react-bootstrap/Form';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\n/**\r\n * Title form component\r\n * @class\r\n * @param { useState } title\r\n */\r\nconst Title = ({title, setTitle}) => {\r\n  return(\r\n    <Form.Group controlId=\"formOccasionTitle\">\r\n      <Form.Label>Title</Form.Label>\r\n      <Form.Control \r\n        type=\"text\" \r\n        value={title}\r\n        onChange={({target}) => setTitle(target.value)} \r\n        required/>\r\n    </Form.Group>\r\n  )\r\n}\r\n\r\n/**\r\n * Subtitle form component\r\n * @class\r\n * @param { useState } subtitle\r\n */\r\nconst Subtitle = ({subtitle, setSubtitle}) => {\r\n  return(\r\n    <Form.Group controlId=\"formOccasionSubtitle\">\r\n      <Form.Label>Subtitle</Form.Label>\r\n      <Form.Control \r\n        type=\"text\"\r\n        value={subtitle}\r\n        onChange={({target}) => setSubtitle(target.value)} />\r\n    </Form.Group>\r\n  )\r\n}\r\n\r\n/**\r\n * Description form component\r\n * @class\r\n * @param { useState } description\r\n */\r\nconst Description = ({description, setDescription}) => {\r\n  return(\r\n    <Form.Group controlId=\"formOccasionDescription\">\r\n      <Form.Label>Description</Form.Label>\r\n      <Form.Control\r\n      as=\"textarea\" \r\n      type=\"text\"\r\n      value={description}\r\n      onChange={({target}) => setDescription(target.value)} \r\n      required/>\r\n    </Form.Group>\r\n  )\r\n}\r\n\r\n/**\r\n * Privacy radiobutton form component\r\n * @class\r\n * @param { useState } privacy \r\n */\r\nconst Privacy = ({privacy, setPrivacy}) => {\r\n  return(\r\n  \t<Form.Group style={{alignItems: 'center'}}>\r\n      <Col >\r\n        <Form.Label>Event privacy</Form.Label>\r\n      </Col>\r\n      <Col>\r\n        <Form.Check\r\n          type=\"radio\"\r\n          label=\"public\"\r\n          onChange={() => setPrivacy(false)}\r\n          checked={!privacy}\r\n          name=\"formOccasionRadios\"\r\n          id=\"occasionPublic\" \r\n          />\r\n        <Form.Check\r\n          type=\"radio\"\r\n          label=\"private\"\r\n          onChange={() => setPrivacy(true)}\r\n          checked={privacy}\r\n          name=\"formOccasionRadios\"\r\n          id=\"occasionPrivate\"\r\n        />\r\n      </Col>\r\n    </Form.Group>\r\n  )\r\n}\r\n\r\n/**\r\n * Day (date) form component\r\n * @class\r\n * @param { useState } day \r\n */\r\nconst Day = ({day, setDay}) => {\r\n\r\n  const advSetDay = (value) => {\r\n    if(value>32) {\r\n      setDay(0);\r\n    } else if(value<1){\r\n      setDay(32);\r\n    } else {\r\n      setDay(value)\r\n    }\r\n  }\r\n  return(\r\n    <Form.Group style={{width: '85px'}}>\r\n      <Form.Label>Day</Form.Label>\r\n      <Form.Control \r\n        type=\"number\"\r\n        value={day}\r\n        onChange={({target}) => advSetDay(target.value)}\r\n        required\r\n      />\r\n    </Form.Group>\r\n  )\r\n}\r\n\r\n/**\r\n * Month (date) form component\r\n * @class\r\n * @param { useState } month \r\n */\r\nconst Month = ({month, setMonth}) => {\r\n\r\n  const advSetMonth = (value) => {\r\n    if(value>12){\r\n      setMonth(1);\r\n    } else if(value<1){\r\n      setMonth(12);\r\n    } else {\r\n      setMonth(value);\r\n    }\r\n  }\r\n\r\n  return(\r\n    <Form.Group style={{width: '85px'}}>\r\n      <Form.Label>Month</Form.Label>\r\n      <Form.Control \r\n        type=\"number\"\r\n        value={month}\r\n        onChange={({target}) => advSetMonth(target.value)}\r\n        required\r\n      />\r\n    </Form.Group>\r\n  )\r\n}\r\n\r\n/**\r\n * Year (date) form component\r\n * @class\r\n * @param { useState } year\r\n */\r\nconst Year = ({year, setYear}) => {\r\n  return(\r\n    <Form.Group style={{width: '85px'}}>\r\n      <Form.Label>Year</Form.Label>\r\n      <Form.Control \r\n        type=\"number\"\r\n        value={year}\r\n        onChange={({target}) => setYear(target.value)}\r\n        required\r\n      />\r\n    </Form.Group>\r\n  )\r\n}\r\n\r\n/**\r\n * Time (date) form component\r\n * @class\r\n * @param { useState } time \r\n */\r\nconst Time = ({time, setTime}) => {\r\n  return(\r\n    <Form.Group>\r\n      <Form.Label>Time</Form.Label>\r\n      <Form.Control \r\n        type=\"time\"\r\n        value={time}\r\n        onChange={({target}) => setTime(target.value)}\r\n        required\r\n      />\r\n  </Form.Group>    \r\n  )\r\n}\r\n\r\n/**\r\n * Location form component\r\n * @class\r\n * @param { useState } location \r\n */\r\nconst Location = ({location, setLocation}) => {\r\n  return(\r\n    <Form.Label>\r\n      <Form.Label>Location</Form.Label>\r\n      <Form.Control \r\n        type=\"text\"\r\n        value={location}\r\n        onChange={({target}) => setLocation(target.value)}\r\n      />\r\n    </Form.Label>\r\n  )\r\n}\r\n\r\n/**\r\n * This is the master form comnponent.\r\n * @class\r\n * @param { user } user\r\n * @param { useState } occState \r\n */\r\nconst OccasionForm = ({user, occState}) => {\r\n\r\n  const occasions = occState.occasions;\r\n  const setOccasions = occState.setOccasions;\r\n\r\n  const [title, setTitle] = useState('');\r\n  const [subtitle, setSubtitle] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [privacy, setPrivacy] = useState(false);\r\n\r\n  const [day, setDay] = useState(19);\r\n  const [month, setMonth] = useState(3);\r\n  const [year, setYear] = useState(2019);\r\n  const [time, setTime] = useState('12:30');\r\n\r\n  const [location, setLocation] = useState('');\r\n\r\n  const [expanded, setExpanded] = useState('');\r\n  const expansion = (exp) => { return { display: exp ? '' : 'none' }}\r\n\r\n  const [visible, setVisible] = useState(false);\r\n  const visibility = (vis) => { return { display: vis ? '' : 'none' }}\r\n\r\n  useEffect(() => {\r\n    if(user){\r\n      setVisible(true);\r\n    }\r\n  }, [user])\r\n\r\n\r\n  /**\r\n   * This function handles form submission event\r\n   * @function handleSubmit\r\n   * @param { event } event \r\n   */\r\n  const handleSubmit = async (event) => {\r\n    if(user){\r\n      try{\r\n        event.preventDefault();\r\n\r\n        const date = new Date()\r\n        date.setFullYear(year);\r\n        date.setMonth(month);\r\n        date.setDate(day);\r\n        date.setHours(Number(time.slice(0,2)));\r\n        date.setMinutes(Number(time.slice(3,5)));\r\n        date.setSeconds(0);\r\n        \r\n        const body = {\r\n          title: title,\r\n          subtitle: subtitle,\r\n          description: description,\r\n          isPrivate: privacy,\r\n          date: date,\r\n          location\r\n        }\r\n\r\n        const returnObj = await occasionService.submit({user, body});\r\n        if(returnObj){          \r\n          await setOccasions(occasions.concat(returnObj));\r\n        }\r\n\r\n        setTitle(''); setSubtitle(''); setDescription(''); setLocation('');\r\n        setExpanded(false);\r\n\r\n      } catch(exception) {\r\n        console.log(exception);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * This helper function returns content String for 'expand' button\r\n   * @function getButtonContent\r\n   */\r\n  const getButtonContent = () => {\r\n    return expanded === true\r\n      ? 'Hide'\r\n      : 'Create Event'\r\n  }\r\n\r\n  return (\r\n    <div style={visibility(visible)}>\r\n      <Button\r\n        onClick={() => setExpanded(!expanded)}\r\n        block\r\n      >\r\n        {getButtonContent()}\r\n      </Button>\r\n      <br/>\r\n      <Form onSubmit={handleSubmit} style={expansion(expanded)}>\r\n        <Row>\r\n          <Col md={{}}>\r\n            <Title title={title} setTitle={setTitle}/>\r\n          </Col>\r\n          <Col>\r\n            <Subtitle subtitle={subtitle} setSubtitle={setSubtitle}/>\r\n          </Col>\r\n        </Row>\r\n        <Row noGutters>\r\n          <Col>\r\n            <Description description={description} setDescription={setDescription} />\r\n           </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col md={{span: 4}}>\r\n            <Row noGutters>\r\n              <Day day={day} setDay={setDay}/>\r\n              <Month month={month} setMonth={setMonth}/>\r\n              <Year year={year} setYear={setYear}/>\r\n            </Row>\r\n            <Row noGutters>\r\n              <Time time={time} setTime={setTime}/>\r\n            </Row>\r\n          </Col>\r\n          <Col md={{span: 2}}>\r\n            <Privacy privacy={privacy} setPrivacy={setPrivacy}/>\r\n          </Col>\r\n          <Col>\r\n            <Location location={location} setLocation={setLocation}/>\r\n          </Col>\r\n        </Row>\r\n        <Form.Group>\r\n          <Button \r\n            sm={{offset: 2}}\r\n            type=\"submit\"\r\n            >Submit</Button>\r\n        </Form.Group>\r\n      </Form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default OccasionForm;","/**\r\n * This contains logout component\r\n * @module LogoutButton\r\n */\r\n\r\nimport React from 'react';\r\n\r\n/**\r\n * This component returns a button and handler, that logs current user out of the app.\r\n * @class\r\n */\r\nconst LogoutButton = () => {\r\n\r\n  /**\r\n   * This function handles logout event\r\n   * @function logout\r\n   */\r\n  const logout = () => {\r\n    window.localStorage.removeItem('loggedUser');\r\n    window.location.reload(false);\r\n  }\r\n\r\n  return(\r\n    <div>\r\n      <button onClick={logout}>Sign Out</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default LogoutButton;","/**\r\n * Login service module\r\n * @module login\r\n */\r\n\r\nimport axios from 'axios';\r\nconst baseUrl = '/api/login';\r\n\r\n/**\r\n * This function sends login requests to back-end\r\n * @function login\r\n * @param {*} credentials \r\n */\r\nconst login = async credentials => {\r\n  const response = await axios.post(baseUrl, credentials);\r\n  return response.data;\r\n}\r\n\r\nexport default { login }","/**\r\n * This module contains form for logging in.\r\n * @module LoginForm\r\n */\r\n\r\nimport React, {useState} from 'react';\r\nimport loginService from '../services/login';\r\n\r\nimport Form from 'react-bootstrap/Form';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\n/**\r\n * This component contains elements and handler for logging in\r\n * @class\r\n * @param {*} props \r\n */\r\nconst LoginForm = (props) => {\r\n\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  /**\r\n   * This function hanles login event\r\n   * @function loginHandler\r\n   * @param { event } event \r\n   */\r\n  const loginHandler = async (event) => {    \r\n    event.preventDefault();\r\n    try{\r\n      const user = await loginService.login({ username, password });\r\n      window.localStorage.setItem('loggedUser', JSON.stringify(user));\r\n\r\n      props.setUser(user);\r\n      setPassword('');\r\n      setUsername('');\r\n    } catch(exception) {\r\n      console.log(exception);\r\n    }\r\n  }  \r\n\r\n  return(\r\n    <>\r\n      <Form onSubmit={loginHandler}>\r\n        <Row>\r\n          <Col>\r\n            <Form.Group controlId=\"loginFormUsername\">\r\n              <Form.Label>Username</Form.Label>\r\n              <Form.Control \r\n                type=\"text\"\r\n                value={username}\r\n                onChange={({target}) => setUsername(target.value)}\r\n                required\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n          <Col>\r\n            <Form.Group controlId=\"loginFormPassword\">\r\n              <Form.Label>Password</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                value={password}\r\n                onChange={({target}) => setPassword(target.value)}\r\n                required\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col md=\"auto\">\r\n            <Form.Group>\r\n              <Button\r\n                type=\"submit\">\r\n                Log In</Button>\r\n            </Form.Group>\r\n          </Col>\r\n          <Col>\r\n            <Button \r\n              onClick={props.toggle}\r\n              variant=\"secondary\"\r\n              >  \r\n              Or Sign in</Button>\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default LoginForm;","/**\r\n * Sing in service module\r\n * @module signin\r\n */\r\n\r\nimport React from 'react';\r\nimport axios from 'axios';\r\nconst baseUrl = '/api/users'\r\n\r\n/**\r\n * This function sends sign in requests to back-end\r\n * @function post\r\n * @param {*} props \r\n */\r\nconst post = async (props) => {\r\n  try{\r\n    const newUser = {\r\n      username: props.username,\r\n      name: props.name,\r\n      password: props.password\r\n    }\r\n\r\n    const response = await axios.post(baseUrl, newUser);\r\n    return response.data;\r\n\r\n  } catch(exception){\r\n    console.log(exception);\r\n  }\r\n}\r\n\r\nexport default { post };","/**\r\n * This module contains all sing in elements\r\n * @module SignInForm\r\n */\r\n\r\nimport React, {useState} from 'react'\r\n\r\nimport signInService from '../services/signIn';\r\n\r\nimport Form from 'react-bootstrap/Form';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\n\r\n/**\r\n * This component contains all form fields and handlers for signin in.\r\n * @class\r\n * @param {*} props \r\n */\r\nconst SignIn = (props) => {\r\n\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [name, setName] = useState('');  \r\n\r\n  /**\r\n   * This function handles sign in event\r\n   * @function signInHandler\r\n   * @param { event } event \r\n   */\r\n  const signInHandler = async (event) => {\r\n    event.preventDefault();\r\n\r\n    try{\r\n      const body = {\r\n        username,\r\n        name,\r\n        password\r\n      }      \r\n      await signInService.post(body);\r\n\r\n      setUsername('');\r\n      setName('');\r\n      setPassword('');\r\n    } catch(exception){\r\n      console.log(exception);\r\n    }\r\n  }\r\n\r\n\r\n  return(\r\n    <>\r\n      <Form onSubmit={signInHandler}>\r\n        <Row>\r\n          <Col>\r\n            <Form.Group controlId=\"signInFormUsername\">\r\n              <Form.Label>Username</Form.Label>\r\n              <Form.Control \r\n                type=\"text\"\r\n                value={username}\r\n                onChange={({target}) => setUsername(target.value)}\r\n                required\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n          <Col>\r\n            <Form.Group controlId=\"signInFormPassword\">\r\n              <Form.Label>Password</Form.Label>\r\n              <Form.Control \r\n                type=\"text\"\r\n                value={password}\r\n                onChange={({target}) => setPassword(target.value)}\r\n                required\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <Form.Group controlId=\"signInFormName\">\r\n              <Form.Label>Name</Form.Label>\r\n              <Form.Control \r\n                type=\"text\"\r\n                value={name}\r\n                onChange={({target}) => setName(target.value)}\r\n                required\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col md=\"auto\">\r\n            <Form.Group>\r\n              <Button\r\n                type=\"submit\">\r\n                  Sing In\r\n                </Button>\r\n            </Form.Group>\r\n          </Col>\r\n          <Col>\r\n            <Button \r\n              onClick={props.toggle}\r\n              variant=\"secondary\"\r\n              >\r\n              Or Login</Button>\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default SignIn;","/**\r\n * This module contains elements for user info modal\r\n * @module UserInfo\r\n */\r\n\r\nimport React, {useState} from 'react'\r\n\r\nimport LogoutBtn from './LogoutButton';\r\nimport LoginForm from './LoginForm'\r\nimport SignInForm from './SignInForm';\r\n\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\n\r\n/**\r\n * This component contains both User information page and signin/login form\r\n * @class\r\n * @param {*} props \r\n */\r\nconst UserInfo = (props) => {  \r\n\r\n  const [toggled, setToggled] = useState(false);\r\n  const toggle = (tog) => { return { display: tog ? '' : 'none' }}\r\n\r\n  const getHeaderText = () => {\r\n    if(!toggled){\r\n      return 'Log in'\r\n    } else {\r\n      return 'Sign in'\r\n    }\r\n  }\r\n  \r\n  if(props.user){\r\n    return(\r\n      <Modal\r\n        {...props.modalProps}\r\n        size='lg'\r\n        centered\r\n      >\r\n        <Modal.Header>\r\n          <Modal.Title>\r\n            {props.user.username}\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Row>\r\n            <Col xs lg=\"2\"> Full name: </Col>\r\n            <Col>{props.user.name}</Col>\r\n          </Row>\r\n          <br/>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Row>\r\n            <Col>\r\n              <LogoutBtn />\r\n            </Col>\r\n          </Row>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    )\r\n  } else {\r\n    return(\r\n      <Modal\r\n        {...props.modalProps}\r\n        size='lg'\r\n      >\r\n        <Modal.Header>\r\n          <Col  lg=\"6\" as=\"h3\" >{getHeaderText()}</Col>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <div style={toggle(!toggled)}>\r\n            <LoginForm \r\n              setUser={props.setUser}\r\n              toggle={()=> setToggled(!toggled)}\r\n            />\r\n          </div>\r\n          <div style={toggle(toggled)}>\r\n            <SignInForm \r\n              toggle={()=> setToggled(!toggled)}\r\n            />\r\n          </div>\r\n        </Modal.Body>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nexport default UserInfo;","/**\r\n * This module contains Header component\r\n * @module components.Header\r\n */\r\n\r\nimport React, {useState} from 'react';\r\n\r\nimport UserInfo from './UserInfo';\r\n\r\nimport Jumbotron from 'react-bootstrap/Jumbotron';\r\nimport Navbar from 'react-bootstrap/Navbar';\r\nimport ButtonToolbar from 'react-bootstrap/ButtonToolbar';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\n/**\r\n * This is a 'user button' that open user modal\r\n * @class\r\n * @param { user } user \r\n * @param { Boolean } setModalVisible \r\n */\r\nconst User = (user, setModalVisible) => {\r\n  let cont = \"\"\r\n  if(user){\r\n    cont = user.username\r\n  } else {\r\n    cont = 'Log in'\r\n  }\r\n\r\n  return(\r\n    <ButtonToolbar>\r\n      <Button \r\n        onClick={() => setModalVisible(true)}\r\n        variant='light'\r\n        size='lg'\r\n      >\r\n      {cont}</Button>\r\n    </ButtonToolbar>\r\n  )\r\n}\r\n\r\n/**\r\n * This component is the header of this webpage.\r\n * @class\r\n * @param {*} props \r\n */\r\nconst Header = (props) => {\r\n\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n\r\n  const modalProps = {\r\n    show: modalVisible,\r\n    onHide: () => setModalVisible(false)\r\n  }  \r\n\r\n  return(\r\n    <>\r\n      <Navbar bg='dark' >\r\n        <Navbar.Toggle />\r\n        <Navbar.Collapse className=\"justify-content-end\">\r\n          <Navbar.Text>\r\n            {User(props.user, setModalVisible)}\r\n          </Navbar.Text>\r\n        </Navbar.Collapse>\r\n      </Navbar>\r\n      <Jumbotron>\r\n        <div className=\"jumbo\">\r\n          <h1>Event Planner</h1>\r\n        </div>\r\n      </Jumbotron>\r\n      <UserInfo\r\n        modalProps={modalProps}\r\n        user={props.user}\r\n        setUser={props.setUser}\r\n      />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Header;","/**\r\n * This module contains bootstrap container\r\n * @module Layout\r\n */\r\nimport React from 'react'\r\nimport Container from 'react-bootstrap/Container'\r\n\r\n/**\r\n * This is the bootstrap container element\r\n * @class\r\n * @param {*} props \r\n */\r\nconst myContainer = (props) => {\r\n  return(\r\n    <Container>\r\n      {props.children}\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default myContainer;","/**\n * This is the main App.\n * @module App\n * @author Panu Lindqvist\n */\n\nimport React, {useState, useEffect} from 'react';\nimport occasionService from './services/occasion';\nimport occasionTyper from './util/occasionTyper';\n\nimport OccasionsList from './components/OccasionsList'\nimport OccasionForm from './components/OccasionForm';\nimport Header from './components/Header';\n\nimport Container from './components/Layout';\n\n\nfunction App() {\n\n  const [occasions, setOccasions] = useState([]);\n  const occState = {\n    occasions, setOccasions\n  }\n\n  const [user, setUser] = useState();  \n\n  useEffect(() => {\n    if(user){      \n      occasionService\n        .getAll(user)\n        .then(occs => setOccasions(occs));\n      }    \n  }, [user]);\n\n\n  useEffect(() => {\n    //TODO confirm old login with back-end\n    /*\n    try{\n      const loggedUserJSON = window.localStorage.getItem('loggedUser');\n      if(loggedUserJSON){\n        const user = loginService.login()\n      }\n    } catch(exception){\n      console.log(exception);\n    }\n    */\n    const loggedUserJSON = window.localStorage.getItem('loggedUser');\n    if(loggedUserJSON){\n      const user = JSON.parse(loggedUserJSON);\n      setUser(user);\n    } else {      \n      setUser(null);\n      occasionService\n        .getAll(user)\n        .then(occs => setOccasions(occs)); \n    }\n  }, [])\n\n  return (\n    <>\n      <Header user={user} setUser={setUser}/>\n      <Container>\n        <OccasionForm user={user} occState={occState}/>\n        <OccasionsList \n          occState={occState}\n          user={user}/>\n      </Container>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\n\nimport App from './App'; \n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}